<div id="images-popup-container">
    <h3>Insert Image</h3>
    <hr />
    @if (ViewBag.DisplayImages != null)
    {
        <table style="width:100%">
            @{
                int totalCount = ViewBag.DisplayImages.Count;
            }
            @for (int row = 0; row < ViewBag.DisplayImages.Count; row++)
            {
                if (row % 3 == 0)
                {
                    int maxIndex = row + 3;
                    if (maxIndex > totalCount)
                    {
                        maxIndex = totalCount;
                    }

                    <tr>
                        @for (int imageIndex = row; imageIndex < maxIndex; imageIndex++)
                        {
                            <td class="image-container" onclick="imageClick(this)">
                                @*<input type="text" name="id" hidden value="@ViewBag.DisplayImages[imageIndex].imageID" />*@
                                <img src="@Url.Content(@ViewBag.DisplayImages[imageIndex].imgLoc)" width="150" height="150" />
                                <br />
                                <h5>@ViewBag.DisplayImages[imageIndex].title</h5>
                                <table class="image-selection" style="visibility:hidden; width:100%">
                                    <tr>
                                        <td>
                                            <select class="Custom-Button img-selection" style="float:none; background-color:white; color:black;">
                                                <option value="thumb">Small</option>
                                                <option value="medium">Medium</option>
                                                <option value="large">Large</option>
                                            </select>
                                        </td>
                                        <td>
                                            <input type="button" value="Submit" class="Custom-Button" style="padding:2px 8px;
                                                float:none;" onclick="addImage('@Url.Content(ViewBag.DisplayImages[imageIndex].imgLoc)',this)" />
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        }
                    </tr>
                }
            }
        </table>
        <div class="pagination">
            @for (int page = 1; page <= ViewBag.LibraryProp.noOfPages; page++)
            {
                if (ViewBag.LibraryProp.currentPage == page)
                {
                    <a href="javascript:void(0);" onclick="nextPage('@page')" class="active">@page.ToString()</a>
                    @*@Html.ActionLink(page.ToString(), "nextImagePage"
                        , new { nextPage = page, pageName = ViewBag.pageName }, new { @class = "active" })*@
                }
                else
                {
                    <a href="javascript:void(0);" onclick="nextPage('@page')">@page.ToString()</a>
                    @*@Html.ActionLink(page.ToString(), "nextImagePage"
                        , new { nextPage = page, pageName  = ViewBag.pageName })*@
                }

            }
        </div>
    }
    else
    {
        <div>
            No Images found!
        </div>
    }
</div>
